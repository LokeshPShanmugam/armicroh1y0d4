<!doctype html>
<html>
<head>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-detector.js"></script>
    <script src="https://raw.githack.com/AR-js-org/studio-backend/master/src/modules/marker/tools/gesture-handler.js"></script>
</head>

<body style="margin: 0; overflow: hidden;">

<img src="logo1.png"
     style="z-index: 999;top:0;left:0;position:fixed;width:40vw;height:20vh;margin : -50px 0 0 0;">
<img src="logo2.png"
     style="z-index: 999;top:0;right:0;position:fixed;width:40vw;height:20vh;margin : -50px 0 0 0;">

<div id="moreDiv"
     style="background-color: white;height: 20vh;width: 100vw;z-index: 998;bottom: 0;left:0;position: fixed;display: flex;padding-top: 20px;">
    <span id="goLeft"
          style="position:fixed;width: 15vw;left: 0;"
          onclick="goLeft()"><center> < </center></span>
    <span id="content"
          style="padding-left: 10px;padding-right: 10px;width: 70vw;text-align: center;left:10vw;right:10vw;position: fixed;"></span>
    <span id="goRight" style="width: 15vw;position: fixed;right: 0;"
          onclick="goRight()"><center> > </center></span>
</div>

<a-scene
        vr-mode-ui="enabled: false;"
        loading-screen="enabled: false;"
        renderer="logarithmicDepthBuffer: true;"
        arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;"
        id="scene"
        embedded
        gesture-detector>

    <a-assets>
        <a-asset-item
                id="animated-asset"
                src="assets/asset.glb"></a-asset-item>

    </a-assets>

    <a-marker
            id="animated-marker"
            type="pattern"
            preset="custom"
            url="assets/marker.patt"
            raycaster="objects: .clickable"
            emitevents="true"
            cursor="fuse: false; rayOrigin: mouse;"
            id="markerA">
        <a-entity
                id="bowser-model"
                scale="1 1 1"
                animation-mixer="loop: repeat"
                gltf-model="#animated-asset"
                class="clickable"
                gesture-handler
        ></a-entity>
    </a-marker>

    <a-entity camera>
            <span style="z-index:999;bottom: 0;right: 0;position:fixed;margin: 0 10px 10px 0;background-color:white;color:black;padding:16px;border-radius:50px;width : 25vw;height:2vh;"
                  onclick="openDiv()" id="knowMore">Know more</span>
    </a-entity>

</a-scene>

<script>
    var contents = [];
    contents[0] = "GIT disturbances lead to diarrhoea causing production loss";
    contents[1] = "Controlling bacterial infection and restoring intestinal health are important";
    contents[2] = "Amoxirum tablet kills diarrhoea causing bacteria such as E. coli and Salmonella";
    contents[3] = "Balansol is an innovative balancing solution for restoring intestinal health and production";

    var isOpened = false;

    var cur = 0;
    document.getElementById("content").innerHTML = contents[cur];

    document.getElementById("moreDiv").style.display = "none";

    function goLeft() {
        if (cur > 0) {
            cur--;
            document.getElementById("content").innerHTML = contents[cur];
        }
    }

    function goRight() {
        if (cur < 3) {
            cur++;
            document.getElementById("content").innerHTML = contents[cur];
        }
    }

    function openDiv() {
        if (!isOpened) {
            cur = 0;
            console.log("Showing...Content");
            document.getElementById("moreDiv").style.display = "block";
            document.getElementById("knowMore").innerText = "Close";
        } else {
            console.log("Hiding...Content");
            document.getElementById("moreDiv").style.display = "none";
            document.getElementById("knowMore").innerText = "Know More";
        }
        isOpened = !isOpened;
    }


</script>
</body>
</html>
